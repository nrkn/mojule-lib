var mojule=void 0===mojule?{}:mojule;
(function(){function i(a){return void 0!==a.value?a.setter():a.getter()}function l(a){return 0.299*a.red+0.587*a.green+0.114*a.blue}function t(a){var c=a.red/255,d=a.green/255,a=a.blue/255,f=Math.max(c,d,a),e=Math.min(c,d,a),g,m=(f+e)/2,j=f-e;if(f===e)g=e=0;else{e=0.5<m?j/(2-f-e):j/(f+e);switch(f){case c:g=(d-a)/j+(d<a?6:0);break;case d:g=(a-c)/j+2;break;case a:g=(c-d)/j+4}g/=6}return{hue:360*g,saturation:100*e,lightness:100*m}}function u(a){"#"===a.substr(0,1)&&(a=a.substr(1));return 3===a.length?
{red:parseInt(a.substr(0,1)+a.substr(0,1),16),green:parseInt(a.substr(1,1)+a.substr(1,1),16),blue:parseInt(a.substr(2,1)+a.substr(2,1),16)}:{red:parseInt(a.substr(0,2),16),green:parseInt(a.substr(2,2),16),blue:parseInt(a.substr(4,2),16)}}function r(a){a=a.toString(16);return 2>a.length?"0"+a:a}function v(a,b){return{hue:c(a.hue*c([b.hue,b.h,1]).firstDefined()).wrap(360),saturation:c(a.saturation*c([b.saturation,b.s,1]).firstDefined()).clamp(0,100),lightness:c(a.lightness*c([b.lightness,b.l,1]).firstDefined()).clamp(0,
100),alpha:c(a.alpha*c([b.alpha,b.a,1]).firstDefined()).clamp(0,1)}}function w(a,b){return{hue:c(a.hue+c([b.hue,b.h,0]).firstDefined()).wrap(360),saturation:c(a.saturation+c([b.saturation,b.s,0]).firstDefined()).clamp(0,100),lightness:c(a.lightness+c([b.lightness,b.l,0]).firstDefined()).clamp(0,100),alpha:c(a.alpha+c([b.alpha,b.a,0]).firstDefined()).clamp(0,1)}}var c=mojule.Extensions;mojule.Color=function(){function a(){return{red:Math.round(d),green:Math.round(f),blue:Math.round(e),alpha:k,css:"rgba( "+
Math.round(d)+", "+Math.round(f)+", "+Math.round(e)+", "+k+" )"}}function b(){return{hue:g,saturation:m,lightness:j,alpha:k,css:"hsla( "+g+", "+m+"%, "+j+"%, "+k+" )"}}var d=0,f=0,e=0,g=360,m=0,j=0,k=1,h=this;this.red=function(a){return i({value:a,setter:function(){return h.rgba({red:this.value})},getter:function(){return d}})};this.green=function(a){return i({value:a,setter:function(){return h.rgba({green:this.value})},getter:function(){return f}})};this.blue=function(a){return i({value:a,setter:function(){return h.rgba({blue:this.value})},
getter:function(){return e}})};this.hue=function(a){return i({value:a,setter:function(){return h.hsla({hue:this.value})},getter:function(){return g}})};this.saturation=function(a){return i({value:a,setter:function(){return h.hsla({saturation:this.value})},getter:function(){return m}})};this.lightness=function(a){return i({value:a,setter:function(){return h.hsla({lightness:this.value})},getter:function(){return j}})};this.alpha=function(a){return i({value:a,setter:function(){return h.hsla({alpha:this.value})},
getter:function(){return k}})};this.rgb=this.rgba=function(b){return i({value:b,setter:function(){d=c(c([this.value.red,this.value.r,d,0]).firstDefined()).clamp(0,255);f=c(c([this.value.green,this.value.g,f,0]).firstDefined()).clamp(0,255);e=c(c([this.value.blue,this.value.b,e,0]).firstDefined()).clamp(0,255);k=c(c([this.value.alpha,this.value.a,k,1]).firstDefined()).clamp(0,1);var b=t(a());g=b.hue;m=b.saturation;j=b.lightness;return h},getter:a})};this.hsl=this.hsla=function(a){return i({value:a,
setter:function(){g=c(c([this.value.hue,this.value.h,g,360]).firstDefined()).wrap(360);m=c(c([this.value.saturation,this.value.s,m,0]).firstDefined()).clamp(0,100);j=c(c([this.value.lightness,this.value.l,j,0]).firstDefined()).clamp(0,100);k=c(c([this.value.alpha,this.value.a,k,1]).firstDefined()).clamp(0,1);var a=b(),q=a.hue/360,p=a.saturation/100,n=a.lightness/100,a=function(a,c,b){0>b&&(b+=1);1<b&&(b-=1);return b<1/6?a+6*(c-a)*b:0.5>b?c:b<2/3?a+6*(c-a)*(2/3-b):a},i=0.5>n?n*(1+p):n+p-n*p,l=2*n-
i;0===p?p=n=q=n:(p=a(l,i,q+1/3),n=a(l,i,q),q=a(l,i,q-1/3));d=255*p;f=255*n;e=255*q;return h},getter:b})};this.bytes=function(b){return i({value:b,setter:function(){if(b instanceof Array){d=c(c([this.value[0],d]).firstDefined()).clamp(0,255);f=c(c([this.value[1],f]).firstDefined()).clamp(0,255);e=c(c([this.value[2],e]).firstDefined()).clamp(0,255);void 0!==this.value[3]&&(k=parseFloat((this.value[3]/255).toFixed(2)));var s=t(a());g=s.hue;m=s.saturation;j=s.lightness}return h},getter:function(){return[d,
f,e,Math.round(255*k)]}})};this.toString=this.css=function(){return 1===parseFloat(k)?h.hex():a().css};this.hex=function(b){return i({value:b,setter:function(){return h.rgba(u(this.value))},getter:function(){var b=a(),c=r(Math.round(b.red)),d=r(Math.round(b.green)),b=r(Math.round(b.blue));return"#"+(c.charAt(0)===c.charAt(1)&&d.charAt(0)===d.charAt(1)&&b.charAt(0)===b.charAt(1)?c.charAt(0)+d.charAt(0)+b.charAt(0):c+d+b)}})};this.brightness=function(){return l(a())};this.brightnessDifference=function(a){var b=
h.rgba(),a=(new mojule.Color(a)).rgba();return Math.abs(l(b)-l(a))};this.colorDifference=function(a){var b=h.rgba(),c=(new mojule.Color(a)).rgba(),a=Math.max(b.red,c.red),d=Math.min(b.red,c.red),e=Math.max(b.green,c.green),f=Math.min(b.green,c.green),g=Math.max(b.blue,c.blue),b=Math.min(b.blue,c.blue);return a-d+(e-f)+(g-b)};this.hasEnoughContrast=function(a,b,c){c=void 0!==c?c:125;return h.colorDifference(a)>=(void 0!==b?b:500)&&h.brightnessDifference(a)>=c};this.multiplyHsla=function(a){return h.hsla(v(h.hsla(),
a))};this.sumHsla=function(a){return h.hsla(w(h.hsla(),a))};this.clone=function(){return new mojule.Color(h.hsla())};this.getContrastingTone=function(){var a=mojule.Color,b=h.rgba(),c={red:255,green:255,blue:255},d={red:0,green:0,blue:0},e=Math.abs(l(b)-l(c)),b=Math.abs(l(b)-l(d))-30;return new a(b>e?d:c)};this.equals=function(){var a=new mojule.Color(c(arguments).toValue());return c([this.red(),this.green(),this.blue(),this.alpha()]).elementsEqual([a.red(),a.green(),a.blue(),a.alpha()])};mojule.Color.mapper.map(h,
arguments)};mojule.Color.regexes={cssHex:/^#(?:[0-9a-f]{3,6})\b$/i,cssRgb:/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,cssRgbPercent:/^rgb\s*\(\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*\)$/i,cssRgba:/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9]+|[0-9]*\.[0-9])\s*\)$/i,cssRgbaPercent:/^rgba\s*\(\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])\s*\)$/i,cssHsl:/^hsl\s*\(\s*(\d+)\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*\)$/i,
cssHsla:/^hsla\s*\(\s*(\d+)\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])%\s*,\s*([0-9]+|[0-9]*\.[0-9])\s*\)$/i};mojule.Color.mapper=new mojule.Mapper({cssHex:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssHex.test(c(a).trim())},map:function(a,b){return b.hex(a)}},cssRgb:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssRgb.test(c(a).trim())},map:function(a,b){var d=c(a).trim().match(mojule.Color.regexes.cssRgb);return b.rgba({red:parseInt(d[1],
10),green:parseInt(d[2],10),blue:parseInt(d[3],10)})}},cssRgbPercent:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssRgbPercent.test(c(a).trim())},map:function(a,b){var d=c(a).trim().match(mojule.Color.regexes.cssRgbPercent);return b.rgba({red:2.55*parseInt(d[1],10),green:2.55*parseInt(d[2],10),blue:2.55*parseInt(d[3],10),alpha:1})}},cssRgba:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssRgba.test(c(a).trim())},map:function(a,b){var d=c(a).trim().match(mojule.Color.regexes.cssRgba);
return b.rgba({red:parseInt(d[1],10),green:parseInt(d[2],10),blue:parseInt(d[3],10),alpha:parseFloat(d[4])})}},cssRgbaPercent:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssRgbaPercent.test(c(a).trim())},map:function(a,b){var d=c(a).trim().match(mojule.Color.regexes.cssRgbaPercent);return b.rgba({red:2.55*parseInt(d[1],10),green:2.55*parseInt(d[2],10),blue:2.55*parseInt(d[3],10),alpha:parseFloat(d[4])})}},cssHsl:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssHsl.test(c(a).trim())},
map:function(a,b){var d=c(a).trim().match(mojule.Color.regexes.cssHsl);return b.hsla({hue:parseInt(d[1],10),saturation:parseInt(d[2],10),lightness:parseInt(d[3],10),alpha:1})}},cssHsla:{predicate:function(a){return"string"===typeof a&&mojule.Color.regexes.cssHsla.test(c(a).trim())},map:function(a,b){var d=c(a).trim().match(mojule.Color.regexes.cssHsla);return b.hsla({hue:parseInt(d[1],10),saturation:parseInt(d[2],10),lightness:parseInt(d[3],10),alpha:parseFloat(d[4])})}},cssNamedColor:{predicate:function(a){return"string"===
typeof a&&void 0!==mojule.Color.namedColors[c(a).trim()]},map:function(a,b){return b.rgba(mojule.Color.namedColors[c(a).trim()].rgba())}},color:{predicate:function(a){return"function"===typeof a.rgba},map:function(a,b){return b.rgba(a.rgba())}},rgba:{predicate:function(a){return c([a.red,a.green,a.blue,a.r,a.g,a.b]).anyDefined()},map:function(a,b){return b.rgba(a)}},hsla:{predicate:function(a){return c([a.hue,a.saturation,a.lightness,a.h,a.s,a.l]).anyDefined()},map:function(a,b){return b.hsla(a)}},
greyscale:{predicate:function(a){return"number"===typeof a},map:function(a,b){return b.rgb({red:a,green:a,blue:a})}},greyscaleAlpha:{predicate:function(a){return a instanceof Array&&2===a.length&&c(a).allOfType("number")},map:function(a,b){return b.rgba({red:a[0],green:a[0],blue:a[0],alpha:a[1]})}},rgbNumbers:{predicate:function(a){return a instanceof Array&&3===a.length&&c(a).allOfType("number")},map:function(a,b){return b.rgb({red:a[0],green:a[1],blue:a[2]})}},rgbaNumbers:{predicate:function(a){return a instanceof
Array&&4===a.length&&c(a).allOfType("number")},map:function(a,b){return b.rgb({red:a[0],green:a[1],blue:a[2],alpha:a[3]})}},imageData:{predicate:function(a){return a instanceof Array&&3===a.length&&c(a.slice(1)).allOfType("number")?c([a[0].width,a[0].height,a[0].data]).allDefined():!1},map:function(a,b){var c=a[0],f=4*(a[2]*c.width+a[1]),e=c.data[f+3];return b.rgb({red:c.data[f],green:c.data[f+1],blue:c.data[f+2],alpha:0===e?0:255/e})}}});mojule.Color.range=function(a,b,d){var a=new mojule.Color(a),
f=new mojule.Color(b),e=a.hsla(),g,i=[],j=mojule.Color.mapper.getMappingName(b);"rgba"===j?f=a.clone().rgba(b):"hsla"===j&&(f=a.clone().hsla(b));g=f.hsla();d=void 0===d||2>d?2:d;c(d).each(function(a){i.push(new mojule.Color({hue:e.hue+(g.hue-e.hue)/(d-1)*a,saturation:e.saturation+(g.saturation-e.saturation)/(d-1)*a,lightness:e.lightness+(g.lightness-e.lightness)/(d-1)*a,alpha:e.alpha+(g.alpha-e.alpha)/(d-1)*a}))});return i};mojule.Color.namedColors={aliceblue:new mojule.Color("#f0f8ff"),antiquewhite:new mojule.Color("#faebd7"),
aqua:new mojule.Color("#00ffff"),aquamarine:new mojule.Color("#7fffd4"),azure:new mojule.Color("#f0ffff"),beige:new mojule.Color("#f5f5dc"),bisque:new mojule.Color("#ffe4c4"),black:new mojule.Color("#000000"),blanchedalmond:new mojule.Color("#ffebcd"),blue:new mojule.Color("#0000ff"),blueviolet:new mojule.Color("#8a2be2"),brown:new mojule.Color("#a52a2a"),burlywood:new mojule.Color("#deb887"),cadetblue:new mojule.Color("#5f9ea0"),chartreuse:new mojule.Color("#7fff00"),chocolate:new mojule.Color("#d2691e"),
coral:new mojule.Color("#ff7f50"),cornflowerblue:new mojule.Color("#6495ed"),cornsilk:new mojule.Color("#fff8dc"),crimson:new mojule.Color("#dc143c"),cyan:new mojule.Color("#00ffff"),darkblue:new mojule.Color("#00008b"),darkcyan:new mojule.Color("#008b8b"),darkgoldenrod:new mojule.Color("#b8860b"),darkgray:new mojule.Color("#a9a9a9"),darkgreen:new mojule.Color("#006400"),darkgrey:new mojule.Color("#a9a9a9"),darkkhaki:new mojule.Color("#bdb76b"),darkmagenta:new mojule.Color("#8b008b"),darkolivegreen:new mojule.Color("#556b2f"),
darkorange:new mojule.Color("#ff8c00"),darkorchid:new mojule.Color("#9932cc"),darkred:new mojule.Color("#8b0000"),darksalmon:new mojule.Color("#e9967a"),darkseagreen:new mojule.Color("#8fbc8f"),darkslateblue:new mojule.Color("#483d8b"),darkslategray:new mojule.Color("#2f4f4f"),darkslategrey:new mojule.Color("#2f4f4f"),darkturquoise:new mojule.Color("#00ced1"),darkviolet:new mojule.Color("#9400d3"),deeppink:new mojule.Color("#ff1493"),deepskyblue:new mojule.Color("#00bfff"),dimgray:new mojule.Color("#696969"),
dimgrey:new mojule.Color("#696969"),dodgerblue:new mojule.Color("#1e90ff"),firebrick:new mojule.Color("#b22222"),floralwhite:new mojule.Color("#fffaf0"),forestgreen:new mojule.Color("#228b22"),fuchsia:new mojule.Color("#ff00ff"),gainsboro:new mojule.Color("#dcdcdc"),ghostwhite:new mojule.Color("#f8f8ff"),gold:new mojule.Color("#ffd700"),goldenrod:new mojule.Color("#daa520"),gray:new mojule.Color("#808080"),green:new mojule.Color("#008000"),greenyellow:new mojule.Color("#adff2f"),grey:new mojule.Color("#808080"),
honeydew:new mojule.Color("#f0fff0"),hotpink:new mojule.Color("#ff69b4"),indianred:new mojule.Color("#cd5c5c"),indigo:new mojule.Color("#4b0082"),ivory:new mojule.Color("#fffff0"),khaki:new mojule.Color("#f0e68c"),lavender:new mojule.Color("#e6e6fa"),lavenderblush:new mojule.Color("#fff0f5"),lawngreen:new mojule.Color("#7cfc00"),lemonchiffon:new mojule.Color("#fffacd"),lightblue:new mojule.Color("#add8e6"),lightcoral:new mojule.Color("#f08080"),lightcyan:new mojule.Color("#e0ffff"),lightgoldenrodyellow:new mojule.Color("#fafad2"),
lightgray:new mojule.Color("#d3d3d3"),lightgreen:new mojule.Color("#90ee90"),lightgrey:new mojule.Color("#d3d3d3"),lightpink:new mojule.Color("#ffb6c1"),lightsalmon:new mojule.Color("#ffa07a"),lightseagreen:new mojule.Color("#20b2aa"),lightskyblue:new mojule.Color("#87cefa"),lightslategray:new mojule.Color("#778899"),lightslategrey:new mojule.Color("#778899"),lightsteelblue:new mojule.Color("#b0c4de"),lightyellow:new mojule.Color("#ffffe0"),lime:new mojule.Color("#00ff00"),limegreen:new mojule.Color("#32cd32"),
linen:new mojule.Color("#faf0e6"),magenta:new mojule.Color("#ff00ff"),maroon:new mojule.Color("#800000"),mediumaquamarine:new mojule.Color("#66cdaa"),mediumblue:new mojule.Color("#0000cd"),mediumorchid:new mojule.Color("#ba55d3"),mediumpurple:new mojule.Color("#9370db"),mediumseagreen:new mojule.Color("#3cb371"),mediumslateblue:new mojule.Color("#7b68ee"),mediumspringgreen:new mojule.Color("#00fa9a"),mediumturquoise:new mojule.Color("#48d1cc"),mediumvioletred:new mojule.Color("#c71585"),midnightblue:new mojule.Color("#191970"),
mintcream:new mojule.Color("#f5fffa"),mistyrose:new mojule.Color("#ffe4e1"),moccasin:new mojule.Color("#ffe4b5"),navajowhite:new mojule.Color("#ffdead"),navy:new mojule.Color("#000080"),oldlace:new mojule.Color("#fdf5e6"),olive:new mojule.Color("#808000"),olivedrab:new mojule.Color("#6b8e23"),orange:new mojule.Color("#ffa500"),orangered:new mojule.Color("#ff4500"),orchid:new mojule.Color("#da70d6"),palegoldenrod:new mojule.Color("#eee8aa"),palegreen:new mojule.Color("#98fb98"),paleturquoise:new mojule.Color("#afeeee"),
palevioletred:new mojule.Color("#db7093"),papayawhip:new mojule.Color("#ffefd5"),peachpuff:new mojule.Color("#ffdab9"),peru:new mojule.Color("#cd853f"),pink:new mojule.Color("#ffc0cb"),plum:new mojule.Color("#dda0dd"),powderblue:new mojule.Color("#b0e0e6"),purple:new mojule.Color("#800080"),red:new mojule.Color("#ff0000"),rosybrown:new mojule.Color("#bc8f8f"),royalblue:new mojule.Color("#4169e1"),saddlebrown:new mojule.Color("#8b4513"),salmon:new mojule.Color("#fa8072"),sandybrown:new mojule.Color("#f4a460"),
seagreen:new mojule.Color("#2e8b57"),seashell:new mojule.Color("#fff5ee"),sienna:new mojule.Color("#a0522d"),silver:new mojule.Color("#c0c0c0"),skyblue:new mojule.Color("#87ceeb"),slateblue:new mojule.Color("#6a5acd"),slategray:new mojule.Color("#708090"),slategrey:new mojule.Color("#708090"),snow:new mojule.Color("#fffafa"),springgreen:new mojule.Color("#00ff7f"),steelblue:new mojule.Color("#4682b4"),tan:new mojule.Color("#d2b48c"),teal:new mojule.Color("#008080"),thistle:new mojule.Color("#d8bfd8"),
tomato:new mojule.Color("#ff6347"),turquoise:new mojule.Color("#40e0d0"),transparent:new mojule.Color({alpha:0}),violet:new mojule.Color("#ee82ee"),wheat:new mojule.Color("#f5deb3"),white:new mojule.Color("#ffffff"),whitesmoke:new mojule.Color("#f5f5f5"),yellow:new mojule.Color("#ffff00"),yellowgreen:new mojule.Color("#9acd32")}})();var Color=void 0===Color?mojule.Color:Color;